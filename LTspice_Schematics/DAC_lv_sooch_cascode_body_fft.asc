Version 4
SHEET 1 1940 820
WIRE -656 -720 -944 -720
WIRE -400 -720 -656 -720
WIRE -160 -720 -400 -720
WIRE 80 -720 -160 -720
WIRE 272 -720 80 -720
WIRE 336 -720 272 -720
WIRE 576 -720 336 -720
WIRE 832 -720 576 -720
WIRE 1088 -720 832 -720
WIRE 1376 -720 1088 -720
WIRE -944 -672 -944 -720
WIRE -944 -672 -976 -672
WIRE -656 -672 -656 -720
WIRE -656 -672 -672 -672
WIRE -400 -672 -400 -720
WIRE -384 -672 -400 -672
WIRE -160 -672 -160 -720
WIRE -144 -672 -160 -672
WIRE 80 -672 80 -720
WIRE 96 -672 80 -672
WIRE 336 -672 336 -720
WIRE 352 -672 336 -672
WIRE 576 -672 576 -720
WIRE 592 -672 576 -672
WIRE 832 -672 832 -720
WIRE 848 -672 832 -672
WIRE 1088 -672 1088 -720
WIRE 1104 -672 1088 -672
WIRE 1376 -672 1376 -720
WIRE 1392 -672 1376 -672
WIRE -976 -624 -976 -672
WIRE -944 -624 -976 -624
WIRE -672 -624 -672 -672
WIRE -656 -624 -672 -624
WIRE -384 -624 -384 -672
WIRE -384 -624 -400 -624
WIRE -144 -624 -144 -672
WIRE -144 -624 -160 -624
WIRE 96 -624 96 -672
WIRE 96 -624 80 -624
WIRE 352 -624 352 -672
WIRE 352 -624 336 -624
WIRE 592 -624 592 -672
WIRE 592 -624 576 -624
WIRE 848 -624 848 -672
WIRE 848 -624 832 -624
WIRE 1104 -624 1104 -672
WIRE 1104 -624 1088 -624
WIRE 1392 -624 1392 -672
WIRE 1392 -624 1376 -624
WIRE -848 -592 -896 -592
WIRE -560 -592 -608 -592
WIRE -528 -592 -560 -592
WIRE -448 -592 -528 -592
WIRE -224 -592 -272 -592
WIRE -208 -592 -224 -592
WIRE 16 -592 -32 -592
WIRE 32 -592 16 -592
WIRE 272 -592 224 -592
WIRE 288 -592 272 -592
WIRE 512 -592 480 -592
WIRE 528 -592 512 -592
WIRE 768 -592 720 -592
WIRE 784 -592 768 -592
WIRE 1024 -592 960 -592
WIRE 1040 -592 1024 -592
WIRE 1312 -592 1264 -592
WIRE 1328 -592 1312 -592
WIRE -944 -496 -944 -576
WIRE -656 -496 -656 -576
WIRE -400 -496 -400 -576
WIRE -160 -496 -160 -576
WIRE 80 -496 80 -576
WIRE 336 -496 336 -576
WIRE 576 -496 576 -576
WIRE 832 -496 832 -576
WIRE 1088 -496 1088 -576
WIRE 1376 -496 1376 -576
WIRE -944 -448 -976 -448
WIRE -640 -448 -656 -448
WIRE -384 -448 -400 -448
WIRE -144 -448 -160 -448
WIRE 96 -448 80 -448
WIRE 352 -448 336 -448
WIRE 592 -448 576 -448
WIRE 848 -448 832 -448
WIRE 1104 -448 1088 -448
WIRE 1392 -448 1376 -448
WIRE -848 -416 -848 -592
WIRE -848 -416 -896 -416
WIRE -704 -416 -848 -416
WIRE -464 -416 -528 -416
WIRE -448 -416 -464 -416
WIRE -224 -416 -272 -416
WIRE -208 -416 -224 -416
WIRE 16 -416 -32 -416
WIRE 32 -416 16 -416
WIRE 272 -416 224 -416
WIRE 288 -416 272 -416
WIRE 512 -416 480 -416
WIRE 528 -416 512 -416
WIRE 768 -416 720 -416
WIRE 784 -416 768 -416
WIRE 1024 -416 960 -416
WIRE 1040 -416 1024 -416
WIRE 1312 -416 1264 -416
WIRE 1328 -416 1312 -416
WIRE -656 -384 -656 -400
WIRE -560 -384 -560 -592
WIRE -560 -384 -656 -384
WIRE -944 -368 -944 -400
WIRE -848 -368 -848 -416
WIRE -848 -368 -944 -368
WIRE -1200 -240 -1200 -272
WIRE -1120 -208 -1120 -272
WIRE -944 -192 -944 -368
WIRE -656 -192 -656 -384
WIRE -400 -160 -400 -400
WIRE -160 -160 -160 -400
WIRE 80 -160 80 -400
WIRE 336 -160 336 -400
WIRE 576 -160 576 -400
WIRE 832 -160 832 -400
WIRE 1088 -160 1088 -400
WIRE 1376 -160 1376 -400
WIRE -1200 -144 -1200 -240
WIRE -1120 -96 -1120 -128
WIRE -944 48 -944 -112
WIRE -656 48 -656 -112
WIRE -656 48 -944 48
WIRE -400 48 -400 -80
WIRE -400 48 -656 48
WIRE -160 48 -160 -80
WIRE -160 48 -400 48
WIRE 80 48 80 -80
WIRE 80 48 -160 48
WIRE 272 48 80 48
WIRE 336 48 336 -80
WIRE 336 48 272 48
WIRE 576 48 576 -80
WIRE 576 48 336 48
WIRE 832 48 832 -80
WIRE 832 48 576 48
WIRE 1088 48 1088 -80
WIRE 1088 48 832 48
WIRE 1376 48 1376 -80
WIRE 1376 48 1088 48
WIRE 272 128 272 48
WIRE 272 128 192 128
WIRE 368 128 272 128
WIRE 192 144 192 128
WIRE 272 144 272 128
WIRE 192 256 192 208
WIRE 272 256 272 224
WIRE 272 256 192 256
WIRE 272 272 272 256
FLAG -1200 -144 0
FLAG -1120 -272 Vdd
FLAG -1200 -240 Grnd
FLAG -1120 -96 Grnd
FLAG 272 256 Grnd
FLAG -352 -96 Grnd
FLAG -112 -96 Grnd
FLAG 128 -96 Grnd
FLAG 384 -96 Grnd
FLAG 624 -96 Grnd
FLAG 880 -96 Grnd
FLAG 1136 -96 Grnd
FLAG 1424 -96 Grnd
FLAG -352 -144 M8
FLAG -112 -144 M7
FLAG 128 -144 M3
FLAG 384 -144 M4
FLAG 624 -144 M5
FLAG 880 -144 M6
FLAG 1136 -144 M7
FLAG 1424 -144 M8
FLAG 368 128 out
IOPIN 368 128 Out
FLAG 272 -720 Vdd
FLAG -528 -592 Vg
FLAG -224 -592 Vg
FLAG 16 -592 Vg
FLAG 272 -592 Vg
FLAG 512 -592 Vg
FLAG 768 -592 Vg
FLAG 1024 -592 Vg
FLAG 1312 -592 Vg
FLAG -848 -416 Vg2
FLAG -224 -416 Vg2
FLAG 16 -416 Vg2
FLAG 272 -416 Vg2
FLAG 512 -416 Vg2
FLAG 768 -416 Vg2
FLAG 1024 -416 Vg2
FLAG 1312 -416 Vg2
FLAG -464 -416 Vg2
FLAG 1392 -448 Vdd
FLAG 1104 -448 Vdd
FLAG 848 -448 Vdd
FLAG 592 -448 Vdd
FLAG 352 -448 Vdd
FLAG 96 -448 Vdd
FLAG -144 -448 Vdd
FLAG -384 -448 Vdd
FLAG -640 -448 Vdd
FLAG -976 -448 Vdd
FLAG -1168 464 0
FLAG -976 464 0
FLAG -1168 384 Vin
FLAG -976 384 D
IOPIN -976 384 Out
FLAG -848 464 0
FLAG -848 384 M
IOPIN -848 384 Out
FLAG -464 464 0
FLAG -464 384 A1
IOPIN -464 384 Out
FLAG -336 464 0
FLAG -336 384 M1
IOPIN -336 384 Out
FLAG -80 480 0
FLAG -80 400 A2
IOPIN -80 400 Out
FLAG 48 480 0
FLAG 48 400 M2
IOPIN 48 400 Out
FLAG 288 480 0
FLAG 288 400 A3
IOPIN 288 400 Out
FLAG 416 480 0
FLAG 416 400 M3
IOPIN 416 400 Out
FLAG 688 480 0
FLAG 688 400 A4
IOPIN 688 400 Out
FLAG 816 480 0
FLAG 816 400 M4
IOPIN 816 400 Out
FLAG 704 752 0
FLAG 704 672 A8
IOPIN 704 672 Out
FLAG 832 752 0
FLAG 832 672 M8
IOPIN 832 672 Out
FLAG 288 752 0
FLAG 288 672 A7
IOPIN 288 672 Out
FLAG 416 752 0
FLAG 416 672 M7
IOPIN 416 672 Out
FLAG -464 752 0
FLAG -464 672 A5
IOPIN -464 672 Out
FLAG -336 752 0
FLAG -336 672 M5
IOPIN -336 672 Out
FLAG -96 752 0
FLAG -96 672 A6
IOPIN -96 672 Out
FLAG 32 752 0
FLAG 32 672 M6
IOPIN 32 672 Out
SYMBOL voltage -1120 -224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdd1
SYMATTR Value 1.2
SYMBOL current -656 -192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 47µ
SYMBOL res 256 128 R0
SYMATTR InstName R1
SYMATTR Value 50
SYMBOL sw -400 -64 R180
SYMATTR InstName S1
SYMBOL sw -160 -64 R180
SYMATTR InstName S2
SYMBOL sw 80 -64 R180
SYMATTR InstName S3
SYMBOL sw 336 -64 R180
SYMATTR InstName S4
SYMBOL sw 576 -64 R180
SYMATTR InstName S5
SYMBOL sw 832 -64 R180
SYMATTR InstName S6
SYMBOL sw 1088 -64 R180
SYMATTR InstName S7
SYMBOL sw 1376 -64 R180
SYMATTR InstName S8
SYMBOL pmos4 -896 -672 M0
WINDOW 123 56 112 Left 2
SYMATTR Value2 l=300n w=1u
SYMATTR InstName M1
SYMATTR Value ppmos
SYMBOL pmos4 -448 -672 R0
WINDOW 123 -79 98 Left 2
SYMATTR Value2 l=300n w=3u
SYMATTR InstName M2
SYMATTR Value ppmos
SYMBOL pmos4 -208 -672 R0
WINDOW 123 -136 -22 Left 2
SYMATTR Value2 l=300n w=3u m=2
SYMATTR InstName M3
SYMATTR Value ppmos
SYMBOL pmos4 32 -672 R0
WINDOW 123 -136 106 Left 2
SYMATTR Value2 l=300n w=3u m=4
SYMATTR InstName M4
SYMATTR Value ppmos
SYMBOL pmos4 288 -672 R0
WINDOW 123 -133 -21 Left 2
SYMATTR Value2 l=300n w=3u m=8
SYMATTR InstName M5
SYMATTR Value ppmos
SYMBOL pmos4 528 -672 R0
WINDOW 123 -138 103 Left 2
SYMATTR Value2 l=300n w=3u m=16
SYMATTR InstName M6
SYMATTR Value ppmos
SYMBOL pmos4 784 -672 R0
WINDOW 123 -139 -25 Left 2
SYMATTR Value2 l=300n w=3u m=32
SYMATTR InstName M7
SYMATTR Value ppmos
SYMBOL pmos4 1040 -672 R0
WINDOW 123 -138 102 Left 2
SYMATTR Value2 l=300n w=3u m=64
SYMATTR InstName M8
SYMATTR Value ppmos
SYMBOL pmos4 1328 -672 R0
WINDOW 123 -139 -19 Left 2
SYMATTR Value2 l=300n w=3u m=128
SYMATTR InstName M9
SYMATTR Value ppmos
SYMBOL pmos4 -896 -496 M0
WINDOW 123 56 112 Left 2
SYMATTR Value2 l=300n w=3u
SYMATTR InstName M10
SYMATTR Value ppmos
SYMBOL pmos4 -448 -496 R0
WINDOW 123 -79 98 Left 2
SYMATTR Value2 l=300n w=3u
SYMATTR InstName M11
SYMATTR Value ppmos
SYMBOL pmos4 -208 -496 R0
WINDOW 123 -136 -22 Left 2
SYMATTR Value2 l=300n w=3u m=2
SYMATTR InstName M12
SYMATTR Value ppmos
SYMBOL pmos4 32 -496 R0
WINDOW 123 -136 106 Left 2
SYMATTR Value2 l=300n w=3u m=4
SYMATTR InstName M13
SYMATTR Value ppmos
SYMBOL pmos4 288 -496 R0
WINDOW 123 -133 -21 Left 2
SYMATTR Value2 l=300n w=3u m=8
SYMATTR InstName M14
SYMATTR Value ppmos
SYMBOL pmos4 528 -496 R0
WINDOW 123 -138 103 Left 2
SYMATTR Value2 l=300n w=3u m=16
SYMATTR InstName M15
SYMATTR Value ppmos
SYMBOL pmos4 784 -496 R0
WINDOW 123 -139 -25 Left 2
SYMATTR Value2 l=300n w=3u m=32
SYMATTR InstName M16
SYMATTR Value ppmos
SYMBOL pmos4 1040 -496 R0
WINDOW 123 -138 102 Left 2
SYMATTR Value2 l=300n w=3u m=64
SYMATTR InstName M17
SYMATTR Value ppmos
SYMBOL pmos4 1328 -496 R0
WINDOW 123 -139 -19 Left 2
SYMATTR Value2 l=300n w=3u m=128
SYMATTR InstName M18
SYMATTR Value ppmos
SYMBOL cap 176 144 R0
SYMATTR InstName C1
SYMATTR Value 0.02µ
SYMBOL pmos4 -608 -672 M0
WINDOW 123 21 102 Left 2
SYMATTR Value2 l=300n w=3u
SYMATTR InstName M19
SYMATTR Value ppmos
SYMBOL pmos4 -704 -496 R0
WINDOW 123 -79 98 Left 2
SYMATTR Value2 l=300n w=3u
SYMATTR InstName M20
SYMATTR Value ppmos
SYMBOL current -944 -192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value 47µ
SYMBOL voltage -1168 368 R0
WINDOW 3 -111 124 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0.5 0.5 268.5546875)
SYMATTR InstName V1
SYMBOL bv -976 368 R0
WINDOW 3 -211 -35 Left 2
SYMATTR InstName B1
SYMATTR Value V= int(1.00001*V(Vin)/vrange)*vrange
SYMBOL bv -848 368 R0
WINDOW 3 -128 132 Left 2
SYMATTR InstName B2
SYMATTR Value V= int(V(D)/vrange)
SYMBOL bv -464 368 R0
WINDOW 3 -93 -53 Left 2
SYMATTR InstName B3
SYMATTR Value V= int(V(M)/2)
SYMBOL bv -336 368 R0
WINDOW 3 -128 132 Left 2
SYMATTR InstName B4
SYMATTR Value V= V(M)-V(A1)*2
SYMBOL bv -80 384 R0
WINDOW 3 -93 -53 Left 2
SYMATTR InstName B5
SYMATTR Value V= int(V(A1)/2)
SYMBOL bv 48 384 R0
WINDOW 3 -128 132 Left 2
SYMATTR InstName B6
SYMATTR Value V= V(A1)-V(A2)*2
SYMBOL bv 288 384 R0
WINDOW 3 -93 -53 Left 2
SYMATTR InstName B7
SYMATTR Value V= int(V(A2)/2)
SYMBOL bv 416 384 R0
WINDOW 3 -128 132 Left 2
SYMATTR InstName B8
SYMATTR Value V= V(A2)-V(A3)*2
SYMBOL bv 688 384 R0
WINDOW 3 -93 -53 Left 2
SYMATTR InstName B9
SYMATTR Value V= int(V(A3)/2)
SYMBOL bv 816 384 R0
WINDOW 3 -128 132 Left 2
SYMATTR InstName B10
SYMATTR Value V= V(A3)-V(A4)*2
SYMBOL bv 704 656 R0
WINDOW 3 -93 -53 Left 2
SYMATTR InstName B15
SYMATTR Value V= int(V(A7)/2)
SYMBOL bv 832 656 R0
WINDOW 3 -128 132 Left 2
SYMATTR InstName B16
SYMATTR Value V= V(A7)-V(A8)*2
SYMBOL bv 288 656 R0
WINDOW 3 -93 -53 Left 2
SYMATTR InstName B17
SYMATTR Value V= int(V(A6)/2)
SYMBOL bv 416 656 R0
WINDOW 3 -128 132 Left 2
SYMATTR InstName B18
SYMATTR Value V= V(A6)-V(A7)*2
SYMBOL bv -464 656 R0
WINDOW 3 -93 -53 Left 2
SYMATTR InstName B19
SYMATTR Value V= int(V(A4)/2)
SYMBOL bv -336 656 R0
WINDOW 3 -128 132 Left 2
SYMATTR InstName B20
SYMATTR Value V= V(A4)-V(A5)*2
SYMBOL bv -96 656 R0
WINDOW 3 -93 -53 Left 2
SYMATTR InstName B21
SYMATTR Value V= int(V(A5)/2)
SYMBOL bv 32 656 R0
WINDOW 3 -128 132 Left 2
SYMATTR InstName B22
SYMATTR Value V= V(A5)-V(A6)*2
TEXT -1176 160 Left 2 !.include G:\\Programs\\LTC\\LTspiceXVII\\lib\\sym\\65nm_bulk.pm.txt
TEXT -1176 192 Left 2 !.opt plotwinsize=0
TEXT -1176 224 Left 2 !.tran 50m
TEXT -1176 256 Left 2 !.model sw sw(Ron=1 Roff=1G Vt=.5 Vh=0)
TEXT -1192 632 Left 2 !.param n=8
TEXT -1192 608 Left 2 !.param nlevel = pow(2,n)-1
TEXT -1192 576 Left 2 !.param vrange = 1/nlevel
